// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`ConsentManagementMonitoringStack creates the expected CloudFormation template from CDK 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "ConsentManagementDashboardFactoryAlarmDashboard83B9B826": {
      "Properties": {
        "DashboardBody": {
          "Fn::Join": [
            "",
            [
              "{"start":"-PT8H","periodOverride":"inherit","widgets":[{"type":"metric","width":6,"height":4,"x":0,"y":0,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsents Latency-P95 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsLatencyP95Warning14FF2639",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":0,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsents Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsFaultCountWarningE049F2CD",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":0,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsents MaxTPS Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsMaxTPSWarning66FFADF4",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":4,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsents Latency-P95 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsLatencyP95Warning465DA81B",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":4,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsents Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsFaultCountWarning019C3602",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":4,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsents MaxTPS Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsMaxTPSWarning0E334E06",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":8,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId Latency-P95 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdLatencyP95Warning2E8AFEE0",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":8,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdFaultCountWarning96F18CCA",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":8,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId MaxTPS Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdMaxTPSWarningD33A2BD4",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":12,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId Latency-P95 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdLatencyP95Warning0392C04F",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":12,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdFaultCountWarning8E5B7183",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":12,"properties":{"view":"timeSeries","title":"ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId MaxTPS Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdMaxTPSWarningC40D168E",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":16,"properties":{"view":"timeSeries","title":"ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsents Latency-P95 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsLatencyP95WarningD8724AB9",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":16,"properties":{"view":"timeSeries","title":"ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsents Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsFaultCountWarningB80A81BC",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":16,"properties":{"view":"timeSeries","title":"ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsents MaxTPS Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsMaxTPSWarning6E7D13C2",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":20,"properties":{"view":"timeSeries","title":"ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsentsconsentId Latency-P95 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsconsentIdLatencyP95Warning5489CFEF",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":20,"properties":{"view":"timeSeries","title":"ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsentsconsentId Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsconsentIdFaultCountWarning09AA117B",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":20,"properties":{"view":"timeSeries","title":"ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsentsconsentId MaxTPS Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsconsentIdMaxTPSWarning32D5FA5A",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":24,"properties":{"view":"timeSeries","title":"ConsentManagementApiLambda Average-Memory-Usage Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaAverageMemoryUsageWarning1CC49FFE",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":24,"properties":{"view":"timeSeries","title":"ConsentManagementApiLambda Latency-P90 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaLatencyP90WarningA3E8707C",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":24,"properties":{"view":"timeSeries","title":"ConsentManagementApiLambda Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaFaultCountWarningC553AF04",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":18,"y":24,"properties":{"view":"timeSeries","title":"ConsentManagementApiLambda Throttled-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaThrottledCountWarningF775B05D",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":28,"properties":{"view":"timeSeries","title":"ConsentManagementApiLambda Running-Tasks-High Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaRunningTasksHighWarningD8C2A6D4",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":32,"properties":{"view":"timeSeries","title":"ConsentHistoryApiLambda Average-Memory-Usage Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaAverageMemoryUsageWarningAC1FB283",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":32,"properties":{"view":"timeSeries","title":"ConsentHistoryApiLambda Latency-P90 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaLatencyP90Warning9120AC35",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":32,"properties":{"view":"timeSeries","title":"ConsentHistoryApiLambda Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaFaultCountWarningB9A32B68",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":18,"y":32,"properties":{"view":"timeSeries","title":"ConsentHistoryApiLambda Throttled-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaThrottledCountWarning2D7CB674",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":36,"properties":{"view":"timeSeries","title":"ConsentHistoryApiLambda Running-Tasks-High Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaRunningTasksHighWarningBCA39F95",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":40,"properties":{"view":"timeSeries","title":"ConsentHistoryProcessorLambda Average-Memory-Usage Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaAverageMemoryUsageWarningAC4E8E79",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":40,"properties":{"view":"timeSeries","title":"ConsentHistoryProcessorLambda Latency-P90 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaLatencyP90WarningB175FFFF",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":40,"properties":{"view":"timeSeries","title":"ConsentHistoryProcessorLambda Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaFaultCountWarning8DA41026",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":18,"y":40,"properties":{"view":"timeSeries","title":"ConsentHistoryProcessorLambda Throttled-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaThrottledCountWarningD5177145",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":44,"properties":{"view":"timeSeries","title":"ConsentHistoryProcessorLambda Running-Tasks-High Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaRunningTasksHighWarningF8D76A4A",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":48,"properties":{"view":"timeSeries","title":"ConsentExpiryProcessorLambda Average-Memory-Usage Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaAverageMemoryUsageWarning586078A2",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":48,"properties":{"view":"timeSeries","title":"ConsentExpiryProcessorLambda Latency-P90 Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaLatencyP90Warning39053DCC",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":48,"properties":{"view":"timeSeries","title":"ConsentExpiryProcessorLambda Fault-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaFaultCountWarningF297F3EC",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":18,"y":48,"properties":{"view":"timeSeries","title":"ConsentExpiryProcessorLambda Throttled-Count Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaThrottledCountWarningA32FA1C8",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":52,"properties":{"view":"timeSeries","title":"ConsentExpiryProcessorLambda Running-Tasks-High Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaRunningTasksHighWarning7658A3CC",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":56,"properties":{"view":"timeSeries","title":"ConsentExpiryProcessor NoRecentCompletion Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorNoRecentCompletionWarning48899CFE",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":60,"properties":{"view":"timeSeries","title":"ServiceUserConsent Read-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentReadThrottledEventsWarningB6E42089",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":60,"properties":{"view":"timeSeries","title":"ServiceUserConsent Write-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentWriteThrottledEventsWarning43F584DD",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":60,"properties":{"view":"timeSeries","title":"ServiceUserConsent Latency-Average-Query Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAverageQueryWarning60A8E332",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":18,"y":60,"properties":{"view":"timeSeries","title":"ServiceUserConsent Latency-Average-Scan Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAverageScanWarningA326E376",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":64,"properties":{"view":"timeSeries","title":"ServiceUserConsent Latency-Average-PutItem Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAveragePutItemWarningC9902381",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":64,"properties":{"view":"timeSeries","title":"ServiceUserConsent Latency-Average-GetItem Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAverageGetItemWarning91983886",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":68,"properties":{"view":"timeSeries","title":"ConsentsByServiceUser Read-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentsByServiceUserReadThrottledEventsWarning35762CF6",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":68,"properties":{"view":"timeSeries","title":"ConsentsByServiceUser Write-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentsByServiceUserWriteThrottledEventsWarning684447A9",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":72,"properties":{"view":"timeSeries","title":"ActiveConsentsByExpiryHour Read-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringActiveConsentsByExpiryHourReadThrottledEventsWarningF46F24C7",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":72,"properties":{"view":"timeSeries","title":"ActiveConsentsByExpiryHour Write-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringActiveConsentsByExpiryHourWriteThrottledEventsWarningAB505082",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":76,"properties":{"view":"timeSeries","title":"ConsentHistory Read-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryReadThrottledEventsWarning1EB641D6",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":76,"properties":{"view":"timeSeries","title":"ConsentHistory Write-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryWriteThrottledEventsWarning4F05EDE2",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":12,"y":76,"properties":{"view":"timeSeries","title":"ConsentHistory Latency-Average-Query Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAverageQueryWarning3741DDA0",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":18,"y":76,"properties":{"view":"timeSeries","title":"ConsentHistory Latency-Average-Scan Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAverageScanWarningA003446D",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":80,"properties":{"view":"timeSeries","title":"ConsentHistory Latency-Average-PutItem Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAveragePutItemWarning3F1E3345",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":80,"properties":{"view":"timeSeries","title":"ConsentHistory Latency-Average-GetItem Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAverageGetItemWarningB0464622",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":0,"y":84,"properties":{"view":"timeSeries","title":"ConsentHistoryByServiceUser Read-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryByServiceUserReadThrottledEventsWarning9AD7B59D",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}},{"type":"metric","width":6,"height":4,"x":6,"y":84,"properties":{"view":"timeSeries","title":"ConsentHistoryByServiceUser Write-Throttled-Events Warning","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","annotations":{"alarms":["",
              {
                "Fn::GetAtt": [
                  "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryByServiceUserWriteThrottledEventsWarning70AE85EE",
                  "Arn",
                ],
              },
              ""]},"yAxis":{}}}]}",
            ],
          ],
        },
        "DashboardName": "ConsentManagement-Alarms",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConsentManagementDashboardFactoryDashboard1B57A668": {
      "Properties": {
        "DashboardBody": {
          "Fn::Join": [
            "",
            [
              "{"start":"-PT8H","periodOverride":"inherit","widgets":[{"type":"text","width":24,"height":1,"x":0,"y":0,"properties":{"markdown":"# Consent Management API Gateway Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":1,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod GET /v1/consent-management/services/{serviceId}/users/{userId}/consents**"}},{"type":"metric","width":6,"height":5,"x":0,"y":2,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":2,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":2,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"5XX Fault > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":2,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":7,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod POST /v1/consent-management/services/{serviceId}/users/{userId}/consents**"}},{"type":"metric","width":6,"height":5,"x":0,"y":8,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":8,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":8,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"5XX Fault > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":8,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":13,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod GET /v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}**"}},{"type":"metric","width":6,"height":5,"x":0,"y":14,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":14,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":14,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"5XX Fault > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":14,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":19,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod POST /v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}**"}},{"type":"metric","width":6,"height":5,"x":0,"y":20,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":20,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":20,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"5XX Fault > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":20,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":25,"properties":{"markdown":"# Consent History API Gateway Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":26,"properties":{"markdown":"### API Gateway Endpoint **ConsentHistoryApi prod GET /v1/consent-history/services/{serviceId}/users/{userId}/consents**"}},{"type":"metric","width":6,"height":5,"x":0,"y":27,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":27,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":27,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"5XX Fault > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":27,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":32,"properties":{"markdown":"### API Gateway Endpoint **ConsentHistoryApi prod GET /v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}**"}},{"type":"metric","width":6,"height":5,"x":0,"y":33,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":33,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":33,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"5XX Fault > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":33,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":38,"properties":{"markdown":"# Consent Management API Lambda Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":39,"properties":{"markdown":"### Lambda Function **[ConsentManagementApiLambda-prod](https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/functions/",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              ")**"}},{"type":"metric","width":6,"height":5,"x":0,"y":40,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"TPS","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Invocations","id":"requests","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":40,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P90 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":40,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Faults (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":40,"properties":{"view":"timeSeries","title":"Rates","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Throttles (avg)"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Provisioned Concurrency Spillovers (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":0,"y":45,"properties":{"view":"timeSeries","title":"Invocations","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Invocations","stat":"Sum"}],["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Throttles","stat":"Sum"}],["AWS/Lambda","ConcurrentExecutions","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Concurrent","stat":"Maximum"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Provisioned Concurrency Spillovers","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Throttles > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Concurrent > 800 for 3 datapoints within 15 minutes","value":800,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":45,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Faults","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Faults > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":50,"properties":{"view":"timeSeries","title":"Iterator","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","IteratorAge","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"Iterator Age","stat":"Maximum"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":0,"y":55,"properties":{"view":"timeSeries","title":"CPU Total Time","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"CPUTotalTime.Max","stat":"Maximum"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"CPUTotalTime.P90","stat":"p90"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"CPUTotalTime.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":55,"properties":{"view":"timeSeries","title":"Memory Utilization","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"MemoryUtilization.Max","stat":"Maximum"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"MemoryUtilization.P90","stat":"p90"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"MemoryUtilization.Avg"}]],"annotations":{"horizontal":[{"label":"MemoryUtilization.Avg > 90 for 3 datapoints within 15 minutes","value":90,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"max":100,"label":"%","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":55,"properties":{"view":"timeSeries","title":"Init Duration","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"InitDuration.Max","stat":"Maximum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"InitDuration.P90","stat":"p90"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"InitDuration.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":55,"properties":{"view":"timeSeries","title":"Function Cost","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Function Cost (avg: \${AVG}, max: \${MAX})","expression":"(total_memory * duration) + (total_memory * init_duration)"}],["LambdaInsights","total_memory","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"TotalMemory","id":"total_memory","visible":false,"stat":"Maximum"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"id":"duration","visible":false,"stat":"Sum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
              },
              "",{"label":"InitDuration.Sum","id":"init_duration","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"MB*ms","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":60,"properties":{"markdown":"# Consent History API Lambda Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":61,"properties":{"markdown":"### Lambda Function **[ConsentHistoryApiLambda-prod](https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/functions/",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              ")**"}},{"type":"metric","width":6,"height":5,"x":0,"y":62,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"TPS","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Invocations","id":"requests","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":62,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P90 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":62,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Faults (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":62,"properties":{"view":"timeSeries","title":"Rates","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Throttles (avg)"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Provisioned Concurrency Spillovers (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":0,"y":67,"properties":{"view":"timeSeries","title":"Invocations","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Invocations","stat":"Sum"}],["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Throttles","stat":"Sum"}],["AWS/Lambda","ConcurrentExecutions","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Concurrent","stat":"Maximum"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Provisioned Concurrency Spillovers","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Throttles > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Concurrent > 800 for 3 datapoints within 15 minutes","value":800,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":67,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Faults","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Faults > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":72,"properties":{"view":"timeSeries","title":"Iterator","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","IteratorAge","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"Iterator Age","stat":"Maximum"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":0,"y":77,"properties":{"view":"timeSeries","title":"CPU Total Time","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"CPUTotalTime.Max","stat":"Maximum"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"CPUTotalTime.P90","stat":"p90"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"CPUTotalTime.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":77,"properties":{"view":"timeSeries","title":"Memory Utilization","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"MemoryUtilization.Max","stat":"Maximum"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"MemoryUtilization.P90","stat":"p90"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"MemoryUtilization.Avg"}]],"annotations":{"horizontal":[{"label":"MemoryUtilization.Avg > 90 for 3 datapoints within 15 minutes","value":90,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"max":100,"label":"%","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":77,"properties":{"view":"timeSeries","title":"Init Duration","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"InitDuration.Max","stat":"Maximum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"InitDuration.P90","stat":"p90"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"InitDuration.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":77,"properties":{"view":"timeSeries","title":"Function Cost","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Function Cost (avg: \${AVG}, max: \${MAX})","expression":"(total_memory * duration) + (total_memory * init_duration)"}],["LambdaInsights","total_memory","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"TotalMemory","id":"total_memory","visible":false,"stat":"Maximum"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"id":"duration","visible":false,"stat":"Sum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
              },
              "",{"label":"InitDuration.Sum","id":"init_duration","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"MB*ms","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":82,"properties":{"markdown":"# Consent History Processor Lambda Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":83,"properties":{"markdown":"### Lambda Function **[ConsentHistoryProcessorLambda-prod](https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/functions/",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              ")**"}},{"type":"metric","width":6,"height":5,"x":0,"y":84,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"TPS","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Invocations","id":"requests","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":84,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P90 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":84,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Faults (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":84,"properties":{"view":"timeSeries","title":"Rates","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Throttles (avg)"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Provisioned Concurrency Spillovers (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":0,"y":89,"properties":{"view":"timeSeries","title":"Invocations","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Invocations","stat":"Sum"}],["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Throttles","stat":"Sum"}],["AWS/Lambda","ConcurrentExecutions","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Concurrent","stat":"Maximum"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Provisioned Concurrency Spillovers","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Throttles > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Concurrent > 800 for 3 datapoints within 15 minutes","value":800,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":89,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Faults","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Faults > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":94,"properties":{"view":"timeSeries","title":"Iterator","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","IteratorAge","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"Iterator Age","stat":"Maximum"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":0,"y":99,"properties":{"view":"timeSeries","title":"CPU Total Time","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"CPUTotalTime.Max","stat":"Maximum"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"CPUTotalTime.P90","stat":"p90"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"CPUTotalTime.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":99,"properties":{"view":"timeSeries","title":"Memory Utilization","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"MemoryUtilization.Max","stat":"Maximum"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"MemoryUtilization.P90","stat":"p90"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"MemoryUtilization.Avg"}]],"annotations":{"horizontal":[{"label":"MemoryUtilization.Avg > 90 for 3 datapoints within 15 minutes","value":90,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"max":100,"label":"%","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":99,"properties":{"view":"timeSeries","title":"Init Duration","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"InitDuration.Max","stat":"Maximum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"InitDuration.P90","stat":"p90"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"InitDuration.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":99,"properties":{"view":"timeSeries","title":"Function Cost","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Function Cost (avg: \${AVG}, max: \${MAX})","expression":"(total_memory * duration) + (total_memory * init_duration)"}],["LambdaInsights","total_memory","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"TotalMemory","id":"total_memory","visible":false,"stat":"Maximum"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"id":"duration","visible":false,"stat":"Sum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
              },
              "",{"label":"InitDuration.Sum","id":"init_duration","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"MB*ms","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":104,"properties":{"markdown":"# Consent Expiry Processor Lambda Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":105,"properties":{"markdown":"### Lambda Function **[ConsentExpiryProcessorLambda-prod](https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/functions/",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              ")**"}},{"type":"metric","width":6,"height":5,"x":0,"y":106,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"TPS","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Invocations","id":"requests","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":106,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P90 > 780000 for 3 datapoints within 15 minutes","value":780000,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":106,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Faults (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":106,"properties":{"view":"timeSeries","title":"Rates","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Throttles (avg)"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Provisioned Concurrency Spillovers (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":0,"y":111,"properties":{"view":"timeSeries","title":"Invocations","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Invocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Invocations","stat":"Sum"}],["AWS/Lambda","Throttles","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Throttles","stat":"Sum"}],["AWS/Lambda","ConcurrentExecutions","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Concurrent","stat":"Maximum"}],["AWS/Lambda","ProvisionedConcurrencySpilloverInvocations","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Provisioned Concurrency Spillovers","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Throttles > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Concurrent > 1 for 3 datapoints within 15 minutes","value":1,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":111,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","Errors","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Faults","stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Faults > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":116,"properties":{"view":"timeSeries","title":"Iterator","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/Lambda","IteratorAge","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"Iterator Age","stat":"Maximum"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":0,"y":121,"properties":{"view":"timeSeries","title":"CPU Total Time","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"CPUTotalTime.Max","stat":"Maximum"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"CPUTotalTime.P90","stat":"p90"}],["LambdaInsights","cpu_total_time","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"CPUTotalTime.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":6,"y":121,"properties":{"view":"timeSeries","title":"Memory Utilization","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"MemoryUtilization.Max","stat":"Maximum"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"MemoryUtilization.P90","stat":"p90"}],["LambdaInsights","memory_utilization","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"MemoryUtilization.Avg"}]],"annotations":{"horizontal":[{"label":"MemoryUtilization.Avg > 90 for 3 datapoints within 15 minutes","value":90,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"max":100,"label":"%","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":12,"y":121,"properties":{"view":"timeSeries","title":"Init Duration","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"InitDuration.Max","stat":"Maximum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"InitDuration.P90","stat":"p90"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"InitDuration.Avg"}]],"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":6,"height":5,"x":18,"y":121,"properties":{"view":"timeSeries","title":"Function Cost","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Function Cost (avg: \${AVG}, max: \${MAX})","expression":"(total_memory * duration) + (total_memory * init_duration)"}],["LambdaInsights","total_memory","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"TotalMemory","id":"total_memory","visible":false,"stat":"Maximum"}],["AWS/Lambda","Duration","FunctionName","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"id":"duration","visible":false,"stat":"Sum"}],["LambdaInsights","init_duration","function_name","",
              {
                "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
              },
              "",{"label":"InitDuration.Sum","id":"init_duration","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"MB*ms","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":126,"properties":{"markdown":"### ConsentExpiryProcessor"}},{"type":"metric","width":24,"height":5,"x":0,"y":127,"properties":{"view":"timeSeries","title":"Consent Expiry Processor Job Runs","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["ConsentExpiryProcessor","ConsentExpiryJobFailure",{"label":"ConsentExpiryJobCompletion","period":3600,"stat":"SampleCount"}]],"annotations":{"horizontal":[{"label":"ConsentExpiryJobCompletion < 1 for 2 datapoints within 120 minutes","value":1,"yAxis":"left"}]},"yAxis":{}}},{"type":"text","width":24,"height":1,"x":0,"y":132,"properties":{"markdown":"### ConsentsExpired"}},{"type":"metric","width":24,"height":5,"x":0,"y":133,"properties":{"view":"timeSeries","title":"Consent Expiries","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["ConsentExpiryProcessor","ExpiredConsent",{"label":"Successful Expiries","period":3600,"stat":"Sum"}]],"yAxis":{}}},{"type":"text","width":24,"height":1,"x":0,"y":138,"properties":{"markdown":"# Consent Management DynamoDB Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":139,"properties":{"markdown":"### Dynamo Table **[ServiceUserConsent](https://us-east-2.console.aws.amazon.com/dynamodb/home?region=us-east-2#tables:selected=",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              ")**"}},{"type":"metric","width":6,"height":3,"x":0,"y":140,"properties":{"view":"timeSeries","title":"Read Usage","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_rcu_sum/PERIOD(consumed_rcu_sum)"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"consumed_rcu_sum","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":3,"x":0,"y":143,"properties":{"view":"timeSeries","title":"Write Usage","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_wcu_sum/PERIOD(consumed_wcu_sum)"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"consumed_wcu_sum","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":9,"height":6,"x":6,"y":140,"properties":{"view":"timeSeries","title":"Latency (Average)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":" ","expression":"SEARCH('{\\"AWS/DynamoDB\\",\\"TableName\\",\\"Operation\\"} \\"TableName\\"=\\"",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "\\" MetricName=\\"SuccessfulRequestLatency\\"', 'Average', 300)"}]],"annotations":{"horizontal":[{"label":"Query > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"},{"label":"Scan > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"},{"label":"PutItem > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"},{"label":"GetItem > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}},"legend":{"position":"right"}}},{"type":"metric","width":3,"height":6,"x":15,"y":140,"properties":{"view":"timeSeries","title":"Throttles","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Read","expression":"FILL(readThrottles,0)"}],["AWS/DynamoDB","ReadThrottleEvents","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Read","id":"readThrottles","visible":false,"stat":"Sum"}],[{"label":"Write","expression":"FILL(writeThrottles,0)"}],["AWS/DynamoDB","WriteThrottleEvents","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Write","id":"writeThrottles","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Read > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Write > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":6,"x":18,"y":140,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"System Errors","expression":"systemErrorGetItem+systemErrorBatchGetItem+systemErrorScan+systemErrorQuery+systemErrorGetRecords+systemErrorPutItem+systemErrorDeleteItem+systemErrorUpdateItem+systemErrorBatchWriteItem"}],["AWS/DynamoDB","SystemErrors","Operation","GetItem","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorGetItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","BatchGetItem","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorBatchGetItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","Scan","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorScan","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","Query","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorQuery","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","GetRecords","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorGetRecords","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","PutItem","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorPutItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","DeleteItem","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorDeleteItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","UpdateItem","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorUpdateItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","BatchWriteItem","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"systemErrorBatchWriteItem","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":146,"properties":{"markdown":"### Dynamo Table Global Secondary Index **[ConsentsByServiceUser](https://us-east-2.console.aws.amazon.com/dynamodb/home?region=us-east-2#tables:selected=",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              ")**"}},{"type":"metric","width":8,"height":5,"x":0,"y":147,"properties":{"view":"timeSeries","title":"Read Capacity","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_rcu_sum/PERIOD(consumed_rcu_sum)"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"consumed_rcu_sum","visible":false,"stat":"Sum"}],["AWS/DynamoDB","ProvisionedReadCapacityUnits","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Provisioned","stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":147,"properties":{"view":"timeSeries","title":"Write Capacity","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_wcu_sum/PERIOD(consumed_wcu_sum)"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"consumed_wcu_sum","visible":false,"stat":"Sum"}],["AWS/DynamoDB","ProvisionedWriteCapacityUnits","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Provisioned","stat":"Sum"}],["AWS/DynamoDB","OnlineIndexConsumedWriteCapacity","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Consumed by index","stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":147,"properties":{"view":"timeSeries","title":"Throttles","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Read","expression":"FILL(readThrottles,0)"}],["AWS/DynamoDB","ReadThrottleEvents","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"readThrottles","visible":false,"stat":"Sum"}],[{"label":"Write","expression":"FILL(writeThrottles,0)"}],["AWS/DynamoDB","WriteThrottleEvents","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"writeThrottles","visible":false,"stat":"Sum"}],[{"label":"Index","expression":"FILL(indexThrottles,0)"}],["AWS/DynamoDB","OnlineIndexThrottleEvents","GlobalSecondaryIndexName","ConsentsByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"indexThrottles","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Read > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Write > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":152,"properties":{"markdown":"### Dynamo Table Global Secondary Index **[ActiveConsentsByExpiryHour](https://us-east-2.console.aws.amazon.com/dynamodb/home?region=us-east-2#tables:selected=",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              ")**"}},{"type":"metric","width":8,"height":5,"x":0,"y":153,"properties":{"view":"timeSeries","title":"Read Capacity","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_rcu_sum/PERIOD(consumed_rcu_sum)"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"consumed_rcu_sum","visible":false,"stat":"Sum"}],["AWS/DynamoDB","ProvisionedReadCapacityUnits","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Provisioned","stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":153,"properties":{"view":"timeSeries","title":"Write Capacity","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_wcu_sum/PERIOD(consumed_wcu_sum)"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"consumed_wcu_sum","visible":false,"stat":"Sum"}],["AWS/DynamoDB","ProvisionedWriteCapacityUnits","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Provisioned","stat":"Sum"}],["AWS/DynamoDB","OnlineIndexConsumedWriteCapacity","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"label":"Consumed by index","stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":153,"properties":{"view":"timeSeries","title":"Throttles","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Read","expression":"FILL(readThrottles,0)"}],["AWS/DynamoDB","ReadThrottleEvents","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"readThrottles","visible":false,"stat":"Sum"}],[{"label":"Write","expression":"FILL(writeThrottles,0)"}],["AWS/DynamoDB","WriteThrottleEvents","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"writeThrottles","visible":false,"stat":"Sum"}],[{"label":"Index","expression":"FILL(indexThrottles,0)"}],["AWS/DynamoDB","OnlineIndexThrottleEvents","GlobalSecondaryIndexName","ActiveConsentsByExpiryHour","TableName","",
              {
                "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
              },
              "",{"id":"indexThrottles","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Read > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Write > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":158,"properties":{"markdown":"# Consent History DynamoDB Metrics"}},{"type":"text","width":24,"height":1,"x":0,"y":159,"properties":{"markdown":"### Dynamo Table **[ConsentHistory](https://us-east-2.console.aws.amazon.com/dynamodb/home?region=us-east-2#tables:selected=",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              ")**"}},{"type":"metric","width":6,"height":3,"x":0,"y":160,"properties":{"view":"timeSeries","title":"Read Usage","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_rcu_sum/PERIOD(consumed_rcu_sum)"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"consumed_rcu_sum","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":3,"x":0,"y":163,"properties":{"view":"timeSeries","title":"Write Usage","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_wcu_sum/PERIOD(consumed_wcu_sum)"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"consumed_wcu_sum","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":9,"height":6,"x":6,"y":160,"properties":{"view":"timeSeries","title":"Latency (Average)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":" ","expression":"SEARCH('{\\"AWS/DynamoDB\\",\\"TableName\\",\\"Operation\\"} \\"TableName\\"=\\"",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "\\" MetricName=\\"SuccessfulRequestLatency\\"', 'Average', 300)"}]],"annotations":{"horizontal":[{"label":"Query > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"},{"label":"Scan > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"},{"label":"PutItem > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"},{"label":"GetItem > 30 for 3 datapoints within 15 minutes","value":30,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}},"legend":{"position":"right"}}},{"type":"metric","width":3,"height":6,"x":15,"y":160,"properties":{"view":"timeSeries","title":"Throttles","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Read","expression":"FILL(readThrottles,0)"}],["AWS/DynamoDB","ReadThrottleEvents","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"label":"Read","id":"readThrottles","visible":false,"stat":"Sum"}],[{"label":"Write","expression":"FILL(writeThrottles,0)"}],["AWS/DynamoDB","WriteThrottleEvents","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"label":"Write","id":"writeThrottles","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Read > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Write > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":6,"height":6,"x":18,"y":160,"properties":{"view":"timeSeries","title":"Errors","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"System Errors","expression":"systemErrorGetItem+systemErrorBatchGetItem+systemErrorScan+systemErrorQuery+systemErrorGetRecords+systemErrorPutItem+systemErrorDeleteItem+systemErrorUpdateItem+systemErrorBatchWriteItem"}],["AWS/DynamoDB","SystemErrors","Operation","GetItem","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorGetItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","BatchGetItem","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorBatchGetItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","Scan","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorScan","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","Query","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorQuery","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","GetRecords","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorGetRecords","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","PutItem","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorPutItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","DeleteItem","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorDeleteItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","UpdateItem","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorUpdateItem","visible":false,"stat":"Sum"}],["AWS/DynamoDB","SystemErrors","Operation","BatchWriteItem","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"systemErrorBatchWriteItem","visible":false,"stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":166,"properties":{"markdown":"### Dynamo Table Global Secondary Index **[ConsentHistoryByServiceUser](https://us-east-2.console.aws.amazon.com/dynamodb/home?region=us-east-2#tables:selected=",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              ")**"}},{"type":"metric","width":8,"height":5,"x":0,"y":167,"properties":{"view":"timeSeries","title":"Read Capacity","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_rcu_sum/PERIOD(consumed_rcu_sum)"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"consumed_rcu_sum","visible":false,"stat":"Sum"}],["AWS/DynamoDB","ProvisionedReadCapacityUnits","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"label":"Provisioned","stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":8,"y":167,"properties":{"view":"timeSeries","title":"Write Capacity","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Consumed","expression":"consumed_wcu_sum/PERIOD(consumed_wcu_sum)"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"consumed_wcu_sum","visible":false,"stat":"Sum"}],["AWS/DynamoDB","ProvisionedWriteCapacityUnits","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"label":"Provisioned","stat":"Sum"}],["AWS/DynamoDB","OnlineIndexConsumedWriteCapacity","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"label":"Consumed by index","stat":"Sum"}]],"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":5,"x":16,"y":167,"properties":{"view":"timeSeries","title":"Throttles","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Read","expression":"FILL(readThrottles,0)"}],["AWS/DynamoDB","ReadThrottleEvents","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"readThrottles","visible":false,"stat":"Sum"}],[{"label":"Write","expression":"FILL(writeThrottles,0)"}],["AWS/DynamoDB","WriteThrottleEvents","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"writeThrottles","visible":false,"stat":"Sum"}],[{"label":"Index","expression":"FILL(indexThrottles,0)"}],["AWS/DynamoDB","OnlineIndexThrottleEvents","GlobalSecondaryIndexName","ConsentHistoryByServiceUser","TableName","",
              {
                "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
              },
              "",{"id":"indexThrottles","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Read > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"},{"label":"Write > 0 for 3 datapoints within 15 minutes","value":0,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}}]}",
            ],
          ],
        },
        "DashboardName": "ConsentManagement",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConsentManagementDashboardFactorySummaryDashboardED929EAC": {
      "Properties": {
        "DashboardBody": {
          "Fn::Join": [
            "",
            [
              "{"start":"-P14D","periodOverride":"inherit","widgets":[{"type":"text","width":24,"height":1,"x":0,"y":0,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod GET /v1/consent-management/services/{serviceId}/users/{userId}/consents**"}},{"type":"metric","width":8,"height":6,"x":0,"y":1,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":8,"y":1,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":16,"y":1,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":7,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod POST /v1/consent-management/services/{serviceId}/users/{userId}/consents**"}},{"type":"metric","width":8,"height":6,"x":0,"y":8,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":8,"y":8,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":16,"y":8,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":14,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod GET /v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}**"}},{"type":"metric","width":8,"height":6,"x":0,"y":15,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":8,"y":15,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":16,"y":15,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","GET","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":21,"properties":{"markdown":"### API Gateway Endpoint **ConsentManagementApi prod POST /v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}**"}},{"type":"metric","width":8,"height":6,"x":0,"y":22,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":8,"y":22,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":16,"y":22,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentManagementApi","Method","POST","Resource","/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":28,"properties":{"markdown":"### API Gateway Endpoint **ConsentHistoryApi prod GET /v1/consent-history/services/{serviceId}/users/{userId}/consents**"}},{"type":"metric","width":8,"height":6,"x":0,"y":29,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":8,"y":29,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":16,"y":29,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":35,"properties":{"markdown":"### API Gateway Endpoint **ConsentHistoryApi prod GET /v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}**"}},{"type":"metric","width":8,"height":6,"x":0,"y":36,"properties":{"view":"timeSeries","title":"TPS","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[[{"label":"Count/s","expression":"FILL(requests,0) / PERIOD(requests)"}],["AWS/ApiGateway","Count","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"Count","id":"requests","visible":false,"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Count/s > 100 for 3 datapoints within 15 minutes","value":100,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"Count","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":8,"y":36,"properties":{"view":"timeSeries","title":"Latency","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P50 (avg: \${AVG})","stat":"p50"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P90 (avg: \${AVG})","stat":"p90"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P95 (avg: \${AVG})","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"P99 (avg: \${AVG})","stat":"p99"}]],"annotations":{"horizontal":[{"label":"P95 > 50 for 3 datapoints within 15 minutes","value":50,"yAxis":"left"}]},"yAxis":{"left":{"min":0,"label":"ms","showUnits":false}}}},{"type":"metric","width":8,"height":6,"x":16,"y":36,"properties":{"view":"timeSeries","title":"Errors (rate)","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["AWS/ApiGateway","4XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"4XX Error (avg)"}],["AWS/ApiGateway","5XXError","ApiName","ConsentHistoryApi","Method","GET","Resource","/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}","Stage","prod",{"label":"5XX Fault (avg)"}]],"yAxis":{"left":{"min":0,"label":"Rate","showUnits":false}}}},{"type":"text","width":24,"height":1,"x":0,"y":42,"properties":{"markdown":"### ConsentsExpired"}},{"type":"metric","width":24,"height":6,"x":0,"y":43,"properties":{"view":"timeSeries","title":"Consent Expiries","region":"",
              {
                "Ref": "AWS::Region",
              },
              "","metrics":[["ConsentExpiryProcessor","ExpiredConsent",{"label":"Successful Expiries","period":3600,"stat":"Sum"}]],"yAxis":{}}}]}",
            ],
          ],
        },
        "DashboardName": "ConsentManagement-Summary",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringActiveConsentsByExpiryHourReadThrottledEventsWarningF46F24C7": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Read throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ActiveConsentsByExpiryHour-Read-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(readThrottles,0)",
            "Id": "expr_1",
            "Label": "Read",
            "ReturnData": true,
          },
          {
            "Id": "readThrottles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "GlobalSecondaryIndexName",
                    "Value": "ActiveConsentsByExpiryHour",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "ReadThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringActiveConsentsByExpiryHourWriteThrottledEventsWarningAB505082": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Write throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ActiveConsentsByExpiryHour-Write-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(writeThrottles,0)",
            "Id": "expr_1",
            "Label": "Write",
            "ReturnData": true,
          },
          {
            "Id": "writeThrottles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "GlobalSecondaryIndexName",
                    "Value": "ActiveConsentsByExpiryHour",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "WriteThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaAverageMemoryUsageWarning586078A2": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "The memory usage is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentExpiryProcessorLambda-Average-Memory-Usage-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "MemoryUtilization.Avg",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "function_name",
                    "Value": {
                      "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
                    },
                  },
                ],
                "MetricName": "memory_utilization",
                "Namespace": "LambdaInsights",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 90,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaFaultCountWarningF297F3EC": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentExpiryProcessorLambda-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Faults",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaLatencyP90Warning39053DCC": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P90 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentExpiryProcessorLambda-Latency-P90-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P90",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p90",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 780000,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaRunningTasksHighWarning7658A3CC": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Number of running tasks are too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentExpiryProcessorLambda-Running-Tasks-High-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Concurrent",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
                    },
                  },
                ],
                "MetricName": "ConcurrentExecutions",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorLambdaThrottledCountWarningA32FA1C8": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Throttled count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentExpiryProcessorLambda-Throttled-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Throttles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentExpiryProcessorStack:ExportsOutputRefConsentExpiryProcessorLambda92B40BBEA26FFAF6",
                    },
                  },
                ],
                "MetricName": "Throttles",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentExpiryProcessorNoRecentCompletionWarning48899CFE": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Threshold of 1 has been breached.",
        "AlarmName": "ConsentManagementMonitoring-ConsentExpiryProcessor-NoRecentCompletion-Warning",
        "ComparisonOperator": "LessThanThreshold",
        "DatapointsToAlarm": 2,
        "EvaluationPeriods": 2,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "ConsentExpiryJobCompletion",
            "MetricStat": {
              "Metric": {
                "MetricName": "ConsentExpiryJobFailure",
                "Namespace": "ConsentExpiryProcessor",
              },
              "Period": 3600,
              "Stat": "SampleCount",
              "Unit": "Count",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaAverageMemoryUsageWarningAC1FB283": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "The memory usage is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApiLambda-Average-Memory-Usage-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "MemoryUtilization.Avg",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "function_name",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
                    },
                  },
                ],
                "MetricName": "memory_utilization",
                "Namespace": "LambdaInsights",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 90,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaFaultCountWarningB9A32B68": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApiLambda-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Faults",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaLatencyP90Warning9120AC35": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P90 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApiLambda-Latency-P90-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P90",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p90",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaRunningTasksHighWarningBCA39F95": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Number of running tasks are too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApiLambda-Running-Tasks-High-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Concurrent",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
                    },
                  },
                ],
                "MetricName": "ConcurrentExecutions",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 800,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiLambdaThrottledCountWarning2D7CB674": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Throttled count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApiLambda-Throttled-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Throttles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryApiStack:ExportsOutputRefConsentHistoryApiLambda03FB76FCE0CD73B7",
                    },
                  },
                ],
                "MetricName": "Throttles",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsFaultCountWarningB80A81BC": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsents-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "5XX Fault",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentHistoryApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-history/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "5XXError",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsLatencyP95WarningD8724AB9": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P95 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsents-Latency-P95-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P95",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentHistoryApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-history/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Latency",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "p95",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsMaxTPSWarning6E7D13C2": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "TPS is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsents-MaxTPS-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(requests,0) / PERIOD(requests)",
            "Id": "expr_1",
            "Label": "Count/s",
            "ReturnData": true,
          },
          {
            "Id": "requests",
            "Label": "Count",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentHistoryApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-history/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Count",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 100,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsconsentIdFaultCountWarning09AA117B": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsentsconsentId-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "5XX Fault",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentHistoryApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "5XXError",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsconsentIdLatencyP95Warning5489CFEF": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P95 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsentsconsentId-Latency-P95-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P95",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentHistoryApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Latency",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "p95",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryApiprodGETv1consenthistoryservicesserviceIdusersuserIdconsentsconsentIdMaxTPSWarning32D5FA5A": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "TPS is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryApi-prod-GET-v1consent-historyservicesserviceIdusersuserIdconsentsconsentId-MaxTPS-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(requests,0) / PERIOD(requests)",
            "Id": "expr_1",
            "Label": "Count/s",
            "ReturnData": true,
          },
          {
            "Id": "requests",
            "Label": "Count",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentHistoryApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-history/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Count",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 100,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryByServiceUserReadThrottledEventsWarning9AD7B59D": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Read throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryByServiceUser-Read-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(readThrottles,0)",
            "Id": "expr_1",
            "Label": "Read",
            "ReturnData": true,
          },
          {
            "Id": "readThrottles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "GlobalSecondaryIndexName",
                    "Value": "ConsentHistoryByServiceUser",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "ReadThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryByServiceUserWriteThrottledEventsWarning70AE85EE": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Write throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryByServiceUser-Write-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(writeThrottles,0)",
            "Id": "expr_1",
            "Label": "Write",
            "ReturnData": true,
          },
          {
            "Id": "writeThrottles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "GlobalSecondaryIndexName",
                    "Value": "ConsentHistoryByServiceUser",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "WriteThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAverageGetItemWarningB0464622": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistory-Latency-Average-GetItem-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "GetItem",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "GetItem",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAveragePutItemWarning3F1E3345": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistory-Latency-Average-PutItem-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "PutItem",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "PutItem",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAverageQueryWarning3741DDA0": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistory-Latency-Average-Query-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Query",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "Query",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryLatencyAverageScanWarningA003446D": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistory-Latency-Average-Scan-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Scan",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "Scan",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaAverageMemoryUsageWarningAC4E8E79": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "The memory usage is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryProcessorLambda-Average-Memory-Usage-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "MemoryUtilization.Avg",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "function_name",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
                    },
                  },
                ],
                "MetricName": "memory_utilization",
                "Namespace": "LambdaInsights",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 90,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaFaultCountWarning8DA41026": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryProcessorLambda-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Faults",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaLatencyP90WarningB175FFFF": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P90 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryProcessorLambda-Latency-P90-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P90",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p90",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaRunningTasksHighWarningF8D76A4A": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Number of running tasks are too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryProcessorLambda-Running-Tasks-High-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Concurrent",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
                    },
                  },
                ],
                "MetricName": "ConcurrentExecutions",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 800,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryProcessorLambdaThrottledCountWarningD5177145": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Throttled count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistoryProcessorLambda-Throttled-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Throttles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryProcessorStack:ExportsOutputRefConsentHistoryProcessorLambdaB5C5B4EA343AF758",
                    },
                  },
                ],
                "MetricName": "Throttles",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryReadThrottledEventsWarning1EB641D6": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Read throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistory-Read-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(readThrottles,0)",
            "Id": "expr_1",
            "Label": "Read",
            "ReturnData": true,
          },
          {
            "Id": "readThrottles",
            "Label": "Read",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "ReadThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentHistoryWriteThrottledEventsWarning4F05EDE2": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Write throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ConsentHistory-Write-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(writeThrottles,0)",
            "Id": "expr_1",
            "Label": "Write",
            "ReturnData": true,
          },
          {
            "Id": "writeThrottles",
            "Label": "Write",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentHistoryDataStack:ExportsOutputRefServiceUserConsentHistoryDynamoDBTable552A6381B31C842F",
                    },
                  },
                ],
                "MetricName": "WriteThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaAverageMemoryUsageWarning1CC49FFE": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "The memory usage is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApiLambda-Average-Memory-Usage-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "MemoryUtilization.Avg",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "function_name",
                    "Value": {
                      "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
                    },
                  },
                ],
                "MetricName": "memory_utilization",
                "Namespace": "LambdaInsights",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 90,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaFaultCountWarningC553AF04": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApiLambda-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Faults",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaLatencyP90WarningA3E8707C": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P90 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApiLambda-Latency-P90-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P90",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p90",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaRunningTasksHighWarningD8C2A6D4": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Number of running tasks are too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApiLambda-Running-Tasks-High-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Concurrent",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
                    },
                  },
                ],
                "MetricName": "ConcurrentExecutions",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 800,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiLambdaThrottledCountWarningF775B05D": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Throttled count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApiLambda-Throttled-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Throttles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "FunctionName",
                    "Value": {
                      "Fn::ImportValue": "ConsentManagementApiStack:ExportsOutputRefConsentManagementApiLambda46174FE9E85C6972",
                    },
                  },
                ],
                "MetricName": "Throttles",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsFaultCountWarningE049F2CD": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsents-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "5XX Fault",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "5XXError",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsLatencyP95Warning14FF2639": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P95 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsents-Latency-P95-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P95",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Latency",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "p95",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsMaxTPSWarning66FFADF4": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "TPS is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsents-MaxTPS-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(requests,0) / PERIOD(requests)",
            "Id": "expr_1",
            "Label": "Count/s",
            "ReturnData": true,
          },
          {
            "Id": "requests",
            "Label": "Count",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Count",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 100,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdFaultCountWarning96F18CCA": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "5XX Fault",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "5XXError",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdLatencyP95Warning2E8AFEE0": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P95 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId-Latency-P95-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P95",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Latency",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "p95",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodGETv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdMaxTPSWarningD33A2BD4": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "TPS is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-GET-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId-MaxTPS-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(requests,0) / PERIOD(requests)",
            "Id": "expr_1",
            "Label": "Count/s",
            "ReturnData": true,
          },
          {
            "Id": "requests",
            "Label": "Count",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "GET",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Count",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 100,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsFaultCountWarning019C3602": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsents-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "5XX Fault",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "POST",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "5XXError",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsLatencyP95Warning465DA81B": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P95 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsents-Latency-P95-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P95",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "POST",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Latency",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "p95",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsMaxTPSWarning0E334E06": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "TPS is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsents-MaxTPS-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(requests,0) / PERIOD(requests)",
            "Id": "expr_1",
            "Label": "Count/s",
            "ReturnData": true,
          },
          {
            "Id": "requests",
            "Label": "Count",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "POST",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Count",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 100,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdFaultCountWarning8E5B7183": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Fault count is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId-Fault-Count-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "5XX Fault",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "POST",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "5XXError",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdLatencyP95Warning0392C04F": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "P95 latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId-Latency-P95-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "P95",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "POST",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Latency",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "p95",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 50,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentManagementApiprodPOSTv1consentmanagementservicesserviceIdusersuserIdconsentsconsentIdMaxTPSWarningC40D168E": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "TPS is too high.",
        "AlarmName": "ConsentManagementMonitoring-ConsentManagementApi-prod-POST-v1consent-managementservicesserviceIdusersuserIdconsentsconsentId-MaxTPS-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(requests,0) / PERIOD(requests)",
            "Id": "expr_1",
            "Label": "Count/s",
            "ReturnData": true,
          },
          {
            "Id": "requests",
            "Label": "Count",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "ApiName",
                    "Value": "ConsentManagementApi",
                  },
                  {
                    "Name": "Method",
                    "Value": "POST",
                  },
                  {
                    "Name": "Resource",
                    "Value": "/v1/consent-management/services/{serviceId}/users/{userId}/consents/{consentId}",
                  },
                  {
                    "Name": "Stage",
                    "Value": "prod",
                  },
                ],
                "MetricName": "Count",
                "Namespace": "AWS/ApiGateway",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 100,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentsByServiceUserReadThrottledEventsWarning35762CF6": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Read throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ConsentsByServiceUser-Read-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(readThrottles,0)",
            "Id": "expr_1",
            "Label": "Read",
            "ReturnData": true,
          },
          {
            "Id": "readThrottles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "GlobalSecondaryIndexName",
                    "Value": "ConsentsByServiceUser",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "ReadThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringConsentsByServiceUserWriteThrottledEventsWarning684447A9": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Write throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ConsentsByServiceUser-Write-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(writeThrottles,0)",
            "Id": "expr_1",
            "Label": "Write",
            "ReturnData": true,
          },
          {
            "Id": "writeThrottles",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "GlobalSecondaryIndexName",
                    "Value": "ConsentsByServiceUser",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "WriteThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAverageGetItemWarning91983886": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ServiceUserConsent-Latency-Average-GetItem-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "GetItem",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "GetItem",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAveragePutItemWarningC9902381": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ServiceUserConsent-Latency-Average-PutItem-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "PutItem",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "PutItem",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAverageQueryWarning60A8E332": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ServiceUserConsent-Latency-Average-Query-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Query",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "Query",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentLatencyAverageScanWarningA326E376": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Average latency is too high.",
        "AlarmName": "ConsentManagementMonitoring-ServiceUserConsent-Latency-Average-Scan-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Id": "m1",
            "Label": "Scan",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "Operation",
                    "Value": "Scan",
                  },
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "SuccessfulRequestLatency",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Average",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 30,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentReadThrottledEventsWarningB6E42089": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Read throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ServiceUserConsent-Read-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(readThrottles,0)",
            "Id": "expr_1",
            "Label": "Read",
            "ReturnData": true,
          },
          {
            "Id": "readThrottles",
            "Label": "Read",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "ReadThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConsentManagementMonitoringConsentManagementMonitoringServiceUserConsentWriteThrottledEventsWarning43F584DD": {
      "Properties": {
        "ActionsEnabled": true,
        "AlarmDescription": "Write throttled events above threshold.",
        "AlarmName": "ConsentManagementMonitoring-ServiceUserConsent-Write-Throttled-Events-Warning",
        "ComparisonOperator": "GreaterThanThreshold",
        "DatapointsToAlarm": 3,
        "EvaluationPeriods": 3,
        "Metrics": [
          {
            "Expression": "FILL(writeThrottles,0)",
            "Id": "expr_1",
            "Label": "Write",
            "ReturnData": true,
          },
          {
            "Id": "writeThrottles",
            "Label": "Write",
            "MetricStat": {
              "Metric": {
                "Dimensions": [
                  {
                    "Name": "TableName",
                    "Value": {
                      "Fn::ImportValue": "ConsentDataStack:ExportsOutputRefServiceUserConsentDynamoDBTable7EDF08782C8736CE",
                    },
                  },
                ],
                "MetricName": "WriteThrottleEvents",
                "Namespace": "AWS/DynamoDB",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 0,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;
